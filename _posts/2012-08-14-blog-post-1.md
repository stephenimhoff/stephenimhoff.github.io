---
title: 'MLB Through The Years'
date: 2021-11-02
permalink: /posts/2021/11/mlb-through-the-years/
tags:
  -MLB
  -Data Science
  -Data Analytics
---

Four Big Baseball Questions
==========
This is my final project from my Data Analytics class at Pitt. 

This report is an exploration of baseball data recorded on every single Major League game played from 1871 to 2016. This data was found on data.world and was compiled by Retrosheet. It consists of 171908 rows and 161 columns, each recording various stats about each game played. Of this massive data set, I focused on offensive statistics and pitching statistics to answer four major questions. Data manipulation to clean and prepare the data involved extracting the year from the date attribute and creating dozens of aggregations around attributes to study. There are numerous structural issues with the data. First, the players who played in 1871 and those who played in 2016 are playing different games entirely (see Fig 1 and Fig 2 in appendix). The way data was recorded changed fundamentally, strategies and rules have changed, and players have gone from day laborers playing on the weekends to professional athletes earning hundreds of millions of dollars today. Other issues were prevalent, such as the data not being extremely well suited to some types of analysis. The data set does not include individual player statistics and so any analysis of individuals is flawed. Note that all supplemental data was found on Baseball-Reference.com.
This report examines four questions:
1.	Is there a statistically significant difference in hits per game between the National League (NL) and the American League (AL)? This question is particularly pertinent as the NL this year considers adopting a Designated Hitter like the AL which should theoretically increase offense output.
2.	Does more pitchers used in a game by a team correlate with better performance by that team? Modern baseball strategy is increasingly requiring more and more pitchers to be used from the bullpen to get through the opposing lineup. Is this actually a good idea?
3.	How can runs scored by a team be best predicted? (Or, how many runs are certain occurrences worth?) In doing this analysis I can identify the most important traits for a hitter to have and what statistics teams should focus on.
4.	Can I identify and cluster quality starting pitchers from the dataset based on the pitching statistics of the game? It is difficult to differentiate between the quality of pitchers in watching a baseball game. It’s difficult to tell if a strikeout is the pitcher performing well or the hitter poorly, so I will quantify pitching performance.

The methodologies are:
-------
1.	T-test-involved isolating the NL and AL games and separating them into two bins, then doing a t-test to see if there was a statistically significant difference in the total hits per game between the two leagues. The ggplot library was used to test for normality in the dataset. All code is in the appendix. Review lines 18-66 for this first question.
2.	Correlation test/matrix-involved removing all rows with null values, measuring the correlation and creating a correlation plot to measure individual elements of pitching performance, such as walks, strikeouts, and hits. The correlation plot required the corrplot library. See lines 66-107.
3.	Linear Regression and Model Selection- involved creating a list of statistics to measure and ran a linear regression to see how many runs each statistic created. Regression and model selection required the leaps library. Ran this model with home pitchers as well as away pitchers to validate the results. See lines 109-135.
4.	Clustering-involved aggregating various pitching statistics around the home pitcher’s name and clustering the name of the pitchers based on their performance. This was initially done with all pitchers from 2007 onward which was far too many pitchers to make anything of. Then, 12 pitchers were selected with various levels of fame and success and were clustered based on their performance. Clustering required the NbClust library. See lines 136-191.
For the first question, I am examined the offensive difference between the NL and AL by assessing total hits by league. A new dataframe was constructed with calculations for total runs, home runs (hrs), and hits in a game added to the original dataset. Hrs and runs were used to get a “feel” for the data while I will be using hits to compare the AL and NL. Then, using aggregate(), the average hits by year was calculated. I added a new column with a value of 1 for NL and 2 for AL and added it to the hits data so the resulting table looked like this:

![test](https://github.com/stephenimhoff/stephenimhoff.github.io/blob/master/images/Table1.JPG?raw=True)

You can have many headings
======

Aren't headings cool?
------
